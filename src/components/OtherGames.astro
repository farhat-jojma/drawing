---
import { getLangStaticPaths, resolveLang } from "../lib/i18n";

export async function getStaticPaths() {
  return getLangStaticPaths();
}

const locale =resolveLang(Astro.params.lang);
const dict = await import(`../locales/${locale}.json`).then((m) => m.default);
---
<section id="other-games" class="relative w-full py-16 sm:py-20 overflow-hidden bg-white" lang={locale}>
  <div class="absolute inset-0 -z-10 arcade-bg animate-bg"></div>
  <div class="max-w-6xl mx-auto px-4">
    <div class="inline-block px-3 py-1 mb-4 bg-white/90 border-2 border-black shadow-[4px_4px_0_#000]">
      <span class="text-xs tracking-widest uppercase">{dict.otherGames}</span>
    </div>
    <h2 class="text-3xl sm:text-4xl font-extrabold mb-8 pixel-title">{dict.otherGamesTitle}</h2>

    <div class="grid md:grid-cols-3 gap-6">
      <a href={`https://www.gamesonlinegratis.com/${locale}/game/freecell/`} target="_blank" rel="noopener noreferrer" class="group block bg-white p-6 border-2 border-black shadow-[6px_6px_0_#000] relative overflow-hidden transition-transform duration-300 hover:-translate-y-1">
        <div class="absolute -right-6 -top-6 w-20 h-20 bg-blue-400 border-2 border-black rotate-45 group-hover:rotate-12 transition-transform"></div>
        <h3 class="font-bold text-xl mb-2 relative">{dict.otherGamesCard1Title}</h3>
        <p class="text-gray-700 relative">{dict.otherGamesCard1Text}</p>
      </a>
      <a href={`https://www.gamesonlinegratis.com/${locale}/game/super-pix/`} target="_blank" rel="noopener noreferrer" class="group block bg-white p-6 border-2 border-black shadow-[6px_6px_0_#000] relative overflow-hidden transition-transform duration-300 hover:-translate-y-1">
        <div class="absolute -right-6 -top-6 w-20 h-20 bg-emerald-400 border-2 border-black rotate-12 group-hover:rotate-0 transition-transform"></div>
        <h3 class="font-bold text-xl mb-2 relative">{dict.otherGamesCard2Title}</h3>
        <p class="text-gray-700 relative">{dict.otherGamesCard2Text}</p>
      </a>
      <a href={`https://www.gamesonlinegratis.com/${locale}/game/fruit-party/`} target="_blank" rel="noopener noreferrer" class="group block bg-white p-6 border-2 border-black shadow-[6px_6px_0_#000] relative overflow-hidden transition-transform duration-300 hover:-translate-y-1">
        <div class="absolute -right-6 -top-6 w-20 h-20 bg-pink-400 border-2 border-black -rotate-6 group-hover:rotate-6 transition-transform"></div>
        <h3 class="font-bold text-xl mb-2 relative">{dict.otherGamesCard3Title}</h3>
        <p class="text-gray-700 relative">{dict.otherGamesCard3Text}</p>
      </a>
    </div>

    <div class="mt-8">
      <button onclick="document.getElementById('game').scrollIntoView({ behavior: 'smooth' })" 
        class="px-5 py-3 bg-yellow-300 hover:bg-yellow-400 transition-colors border-2 border-black shadow-[4px_4px_0_#000] font-semibold">
        {dict.otherGamesCTA}
      </button>
    </div>
  </div>

  <div class="pointer-events-none absolute inset-0 -z-10">
    <span class="pix-coin" style="top:15%;left:12%"></span>
    <span class="pix-coin" style="top:28%;right:16%"></span>
    <span class="pix-coin" style="bottom:20%;left:20%"></span>
    <span class="pix-coin" style="bottom:10%;right:18%"></span>
  </div>

  <style>
    .pixel-title { text-shadow: 0 0 0 #000, 2px 2px 0 #000, -2px 2px 0 #000; letter-spacing: .5px; }
    .arcade-bg {
      background-image:
        linear-gradient(90deg, rgba(0,0,0,.05) 1px, transparent 1px),
        linear-gradient(0deg, rgba(0,0,0,.05) 1px, transparent 1px),
        radial-gradient(circle at 20% 30%, rgba(59,130,246,.15), transparent 40%),
        radial-gradient(circle at 80% 70%, rgba(236,72,153,.15), transparent 40%);
      background-size: 16px 16px, 16px 16px, 100% 100%, 100% 100%;
      background-color: #f1f5f9;
    }
    .animate-bg { animation: drift 18s linear infinite; }
    @keyframes drift { 0% { background-position: 0 0, 0 0, 0 0, 0 0; } 100% { background-position: 32px 32px, 32px 32px, 4% 0, -4% 0; } }
    .pix-coin { position:absolute; width:12px; height:12px; background:#facc15; border:2px solid #000; box-shadow:2px 2px 0 #000; border-radius: 2px; animation: bob 2.4s ease-in-out infinite; }
    @keyframes bob { 0%,100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-6px) rotate(5deg); } }
  </style>
</section>

<div class="h-16"></div>