---
import Layout from "../../layouts/Layout.astro";
import { getLangStaticPaths, resolveLang } from "../../lib/i18n";
import HtmlContent from "../../components/HtmlContent.astro";

export async function getStaticPaths() {
  return getLangStaticPaths();
}

const locale = resolveLang(Astro.params.lang);
const dict = await import(`../../locales/${locale}.json`).then((m) => m.default);
---

<Layout lang={locale} title={dict.termsTitle}>
  <!-- Pixel Hero -->
  <section class="relative bg-gradient-to-r from-red-600 via-orange-500 to-yellow-400 text-white py-16 overflow-hidden">
    <!-- Animated pixel grid overlay -->
    <div class="absolute inset-0 bg-[url('/pixel-grid.png')] opacity-30 animate-pulse"></div>
  
    <div class="relative max-w-5xl mx-auto px-6 text-center">
      <!-- Gradient Glow Title -->
      <h1 class="text-4xl md:text-6xl font-black pixel-font mb-6 bg-gradient-to-r from-red-300 via-yellow-200 to-pink-300 bg-clip-text text-transparent drop-shadow-[0_0_10px_#ff3d6e]">
        {dict.termsTitle}
      </h1>
      <p class="text-lg md:text-xl text-gray-100 max-w-3xl mx-auto leading-relaxed">
        {dict.termsSubtitle}
      </p>
  
      <!-- Pixel badges -->
      <div class="mt-10 flex justify-center gap-3 flex-wrap">
        <span class="pixel-badge bg-red-500 text-white">📜 {dict.rules}</span>
        <span class="pixel-badge bg-yellow-400 text-black">⚖️ {dict.fair}</span>
        <span class="pixel-badge bg-cyan-400 text-white">🎮 {dict.respect}</span>
        <span class="pixel-badge bg-purple-500 text-white">🧩 {dict.order}</span>
        <span class="pixel-badge bg-pink-500 text-white">🔥 {dict.challenge}</span>
      </div>
  
      <!-- Floating Pixel Art -->
      <div class="pixel-hero-art mt-10 animate-bounce-slow" aria-hidden="true">
        <svg width="240" height="110" viewBox="0 0 240 110">
          <rect x="12"  y="20" width="22" height="22" fill="#fffef4" stroke="#111" stroke-width="4"/>
          <rect x="44"  y="8"  width="18" height="18" fill="#ffd93d" stroke="#111" stroke-width="4"/>
          <rect x="72"  y="30" width="20" height="20" fill="#00CFFF" stroke="#111" stroke-width="4"/>
          <rect x="108" y="16" width="16" height="16" fill="#9b5de5" stroke="#111" stroke-width="4"/>
          <rect x="140" y="28" width="26" height="26" fill="#ff3d6e" stroke="#111" stroke-width="4"/>
          <rect x="178" y="12" width="20" height="20" fill="#ff8500" stroke="#111" stroke-width="4"/>
        </svg>
      </div>
    </div>
  </section>
  

  <!-- Pixel Panel Content -->
  <section class="relative max-w-5xl mx-auto px-6 py-14">
    <div class="pixel-panel p-6 md:p-10 border-4 border-red-500 shadow-[4px_4px_0px_#ff3d6e] bg-white">
      <div class="prose prose-gray mx-auto leading-relaxed">
        <HtmlContent slug="terms" locale={locale} fallbackText="Terms of service not available." />
      </div>
    </div>
  </section>

  <!-- Pixel CTA -->
  <section class="py-16 text-center bg-gray-50">
    <div class="max-w-3xl mx-auto px-6">
      <h2 class="text-3xl md:text-4xl font-black pixel-font drop-shadow-[0_0_6px_#ffd93d] mb-5">
        {dict.termsCTA}
      </h2>
      <p class="text-base md:text-lg text-gray-700 mb-6">{dict.termsCTAText}</p>
      <a href={`/${locale}/play`} class="pixel-cta bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-bold">
        {dict.termsCTAButton}
      </a>
    </div>
  </section>

  <div class="pixel-divider my-12"></div>
</Layout>
